stages:
  - module-pipelines

frontend:
  stage: module-pipelines
  trigger:
    include:
      devops/.frontend.yml
#    - template: "Security/SAST.gitlab-ci.yml"
    strategy: depend
  only:
    changes: 
      - frontend/**/*
      - .gitlab-ci.yml
      - devops/.frontend.yml

backend:
  stage: module-pipelines
  trigger:
    include:
      devops/.backend.yml
#    - template: "Security/SAST.gitlab-ci.yml"
    strategy: depend
  only:
    changes: 
      - backend/**/*
      - .gitlab-ci.yml
      - devops/.backend.yml

#variables:
#  VERSION: 1.0.${CI_PIPELINE_ID}
#  MAVEN_REPO_PATH: ${CI_PROJECT_DIR}/.m2/repository

#stages:
#  - build
#  - test
# - release
#  - notify
# - deploy